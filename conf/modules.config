/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        Config file for defining module options and publishing paths
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
*/

process {
	withName: 'ANNOTATE' {
		publishDir = [
			[
				path:           { "${params.out_dir}/versions" },
                                mode:           params.publish_dir_mode,
                                pattern:        "bakta.version"
			],
			[
				path:           { "${params.out_dir}/results/bakta" },
                                mode:           params.publish_dir_mode,
                                pattern:        "*"
			]
		]
        }

	withName: 'PREPARE_NUCDIFF' {
                publishDir = [
                        [
				path:           { "${params.out_dir}/versions" },
                                mode:           params.publish_dir_mode,
                                pattern:        "prep_nucdiff.version"
			],
			[
				path:           { "${params.out_dir}/results/prepare_nucdiff" },
                                mode:           params.publish_dir_mode,
                                pattern:        "*"
			]
                ]
	}


        withName: 'RUN_NUCDIFF' {
		publishDir = [
			[
				path:           { "${params.out_dir}/versions" },
                                mode:           params.publish_dir_mode,
                                pattern:        "nucdiff.version"
			],
			[
				path:           { "${params.out_dir}/results/nucdiff" },
                                mode:           params.publish_dir_mode,
                                pattern:        "**"
			]
		]
        }

        withName: 'PREPARE_VCF_ANNOTATOR' {
		publishDir = [
                        [
				path:           { "${params.out_dir}/versions" },
                                mode:           params.publish_dir_mode,
                                pattern:        "prep_vcf_annotator.version"
			],
			[
				path:           { "${params.out_dir}/results/prepare_vcf-annotator" },
                                mode:           params.publish_dir_mode,
                                pattern:        "*"
			]
                ]
        }


        withName: 'RUN_VCF_ANNOTATOR' {
		publishDir = [
			[
				path:           { "${params.out_dir}/versions" },
                                mode:           params.publish_dir_mode,
                                pattern:        "vcf-annotator.version"
			],
			[
				path:           { "${params.out_dir}/results/vcf-annotator" },
                                mode:           params.publish_dir_mode,
                                pattern:        "*"
			]
		]
        }

        
	withName: 'WRANGLING_TO_DB' {
		publishDir = [
			[
				path:           { "${params.out_dir}/versions" },
                                mode:           params.publish_dir_mode,
                                pattern:        "results_to_db.version"
			],
			[
				path:           { "${params.out_dir}/results/db" },
                                mode:           params.publish_dir_mode,
                                pattern:        "*"
			]
                ]
	}
}